<%= page_heading(t('views.users.index.h1')) %>

<div class="row">
  <div class="col-sm-12">
    <table class="table">
      <thead>
      <tr>
        <th><%= t('activerecord.attributes.users.full_name') %></th>
        <th><%= t('activerecord.attributes.users.email') %></th>
        <th><%= t('activerecord.attributes.users.mobile_number') %></th>
        <th><%= t('activerecord.attributes.users.admin_subscription_product_id') %></th>
        <th colspan="3"></th>
      </tr>
      </thead>

      <tbody>
        <% @users.each do |user| %>
          <tr>
            <td><%= link_to user.full_name, user %></td>
            <td><%= link_to user.email, user %></td>
            <td><%= phone_to user.mobile_number %></td>
            <td>
              <% if user.admin_subscription_product %>
                <%= link_to user.admin_subscription_product&.name, user.admin_subscription_product %>
              <% end %>
            </td>
            <td>
              <% if user.admin_access %>
                <span class="label label-info">Admin</span>
              <% end %>
            </td>
            <td>
              <%= link_to edit_user_path(user) do %>
                <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
              <% end %>
            </td>
            <td>
              <%= link_to user, method: :delete, data: { confirm: I18n.t('views.general.are_you_sure') } do %>
                <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
              <% end %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
